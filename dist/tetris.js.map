{"version":3,"file":"tetris.js","sources":["../src/SeededRandom.js","../src/Brick.js","../src/Shape.js","../src/Board.js","../src/KeyMap.js","../src/Joystick.js","../src/Recorder.js","../src/Game.js"],"sourcesContent":["export default function SeededRandom(seed) {\n  this._seed = (seed % 2147483647);\n\n  this.nextInt = function () {\n    return this._seed = this._seed * 16807 % 2147483647;\n  };\n\n  /**\n   * Random integer generator\n   * @param {number} max - not included\n   * @param {number} [min] - included\n   * @returns {number}\n   */\n  this.nextInRange = function (max, min) {\n    min = (min === undefined) ? 0 : min;\n    --max;\n\n    return Math.floor(min + this.nextFloat() * (max + 1 - min));\n  };\n\n  this.nextFloat = function () {\n    return (this.nextInt() - 1) / 2147483646;\n  };\n\n  if (this._seed <= 0) {\n    this._seed += 2147483646;\n  }\n}","export default function Brick(x, y, rgb, brickSize) {\n  this.x = x;\n  this.y = y;\n  this.rgb = rgb;\n  this.draw = (context) => {\n    context.fillStyle = this.rgb;\n    context.beginPath();\n    context.moveTo(this.x, this.y);\n    context.lineTo(this.x + brickSize - 1, this.y);\n    context.lineTo(this.x, this.y + brickSize - 1);\n    context.closePath();\n    context.fill();\n\n    context.fillStyle = modifyRgb(this.rgb, 0.9);\n    context.beginPath();\n    context.moveTo(this.x + brickSize - 1, this.y);\n    context.lineTo(this.x, this.y + brickSize - 1);\n    context.lineTo(this.x, this.y + brickSize - 1);\n    context.lineTo(this.x + brickSize - 1, this.y + brickSize - 1);\n    context.closePath();\n    context.fill();\n  };\n\n  return this;\n}\n\n/**\n * A function to darken or lighten rgb color strings\n * @param {string} color\n * @param {number} factor\n * @returns {string}\n */\nfunction modifyRgb(color, factor) {\n  const\n    regexp = /rgb\\((\\d+),(\\d+),(\\d+)\\)/g,\n    matches = regexp.exec(color);\n\n  let\n    colors = [\n      matches[1],\n      matches[2],\n      matches[3]\n    ];\n\n  colors.forEach(function (color, index, colors) {\n    colors[index] = Math.floor(color * factor);\n  });\n\n  return `rgb(${colors[0]}, ${colors[1]}, ${colors[2]})`;\n}\n","import Brick from './Brick.js';\n\nexport default function Shape(boardWidth, brickSize, random) {\n  this.startX = boardWidth / 2;\n  this.startY = brickSize;\n  this.isFrozen = false;\n  this.color = random.nextInRange(Shape.prototype.parameters.colors.length);\n  this.type = random.nextInRange(Shape.prototype.parameters.types.length);\n  this.orientaion = random.nextInRange(Shape.prototype.parameters.orientations.length);\n  this.bricks = [];\n\n  this.draw = (context) => {\n    this.bricks.forEach((brick) => brick.draw(context));\n  };\n\n  this.performAction = (movement) => {\n    switch (movement) {\n      case Shape.prototype.actions.ROTATE:\n        if (Shape.prototype.parameters.types[this.type].name !== 'O') {\n          this.orientaion = (this.orientaion === 3) ? 0 : ++this.orientaion;\n          this.applyOrientation();\n        }\n        break;\n\n      case Shape.prototype.actions.FALL:\n        this.bricks.forEach(function (brick) {\n          brick.y += brickSize;\n        });\n        break;\n\n      case Shape.prototype.actions.MOVE_RIGHT:\n      case Shape.prototype.actions.MOVE_LEFT:\n        for (let i = 0; i < 4; ++i) {\n          if (movement === Shape.prototype.actions.MOVE_LEFT) {\n            this.bricks[i].x -= brickSize;\n          } else {\n            this.bricks[i].x += brickSize;\n          }\n        }\n        break;\n\n      case Shape.prototype.actions.DROP:\n        break;\n    }\n\n    return this;\n  };\n\n  this.applyOrientation = () => {\n    const\n      type = Shape.prototype.parameters.types[this.type].matrix,\n      orientation = Shape.prototype.parameters.orientations[this.orientaion].matrix;\n\n    let oriented = [];\n\n    // Dot product of a type matrix and an orientation matrix\n    for (let i = 0; i < 3; ++i) {\n      oriented[i] = [];\n      for (let j = 0; j < 2; ++j) {\n        oriented[i][j] = 0;\n        for (let k = 0; k < 2; ++k) {\n          oriented[i][j] += type[i][k] * orientation[k][j];\n        }\n      }\n    }\n\n    const center = this.bricks[0];\n\n    for (let i = 0; i < 3; ++i) {\n      this.bricks[i + 1].x = center.x + oriented[i][0] * brickSize;\n      this.bricks[i + 1].y = center.y + oriented[i][1] * brickSize;\n    }\n\n    return this;\n  };\n\n  for (let i = 0; i < 4; ++i) {\n    this.bricks.push(new Brick(\n      this.startX,\n      this.startY,\n      Shape.prototype.parameters.colors[this.color].rgb,\n      brickSize\n    ));\n  }\n\n  this.applyOrientation();\n\n  return this;\n}\n\nShape.prototype.parameters = Object.freeze({\n  types: [\n    { name: 'I', matrix: [[0, -1], [0, 1], [0, 2]] },\n    { name: 'O', matrix: [[0, 1], [1, 0], [1, 1]] },\n    { name: 'Z', matrix: [[0, -1], [-1, 0], [1, -1]] },\n    { name: 'S', matrix: [[-1, -1], [0, -1], [1, 0]] },\n    { name: 'T', matrix: [[1, 0], [-1, 0], [0, 1]] },\n    { name: 'J', matrix: [[1, 0], [-1, 0], [-1, 1]] },\n    { name: 'L', matrix: [[1, 0], [-1, 0], [-1, -1]] }\n  ],\n  orientations: [\n    { angle: 0, matrix: [[1, 0], [0, 1]] },\n    { angle: 90, matrix: [[0, -1], [1, 0]] },\n    { angle: 180, matrix: [[-1, 0], [0, -1]] },\n    { angle: 270, matrix: [[0, 1], [-1, 0]] }\n  ],\n  colors: [\n    { name: 'orange', rgb: 'rgb(239,108,0)' },\n    { name: 'red', rgb: 'rgb(211,47,47)' },\n    { name: 'green', rgb: 'rgb(76,175,80)' },\n    { name: 'blue', rgb: 'rgb(33,150,243)' },\n    { name: 'yellow', rgb: 'rgb(255,235,59)' },\n    { name: 'cyan', rgb: 'rgb(0,188,212)' },\n    { name: 'pink', rgb: 'rgb(233,30,99)' },\n    { name: 'white', rgb: 'rgb(224,224,224)' }\n  ]\n});\n\nShape.prototype.actions = Object.freeze({\n  ROTATE: 'rotate',\n  MOVE_LEFT: 'move-left',\n  MOVE_RIGHT: 'move-right',\n  FALL: 'fall',\n  DROP: 'drop'\n});\n","import Shape from \"./Shape\";\n\nexport default function Board(game, boardWidth, boardHeight, brickSize, random) {\n  const colors = {\n    normal: 'rgb(69,90,100)',\n    turbo: 'rgba(69,90,100,0.12)'\n  };\n\n  this.spawnShape = () => new Shape(boardWidth, brickSize, random);\n  this.activeShape = this.spawnShape();\n  this.staticBricks = [];\n\n  this.drawStaticBricks = (context) => {\n    this.staticBricks.forEach((staticBrick) => staticBrick.draw(context));\n  };\n\n  this.drawBackground = (context) => {\n    context.fillStyle = game.turboMode ? colors.turbo : colors.normal;\n    context.fillRect(0, 0, boardWidth, boardHeight);\n  };\n\n  this.drawReplay = (context) => {\n    context.fillStyle = 'white';\n    context.font = '12px Courier';\n    context.fillText('REPLAY...', 0, 20);\n  };\n\n  this.drawScore = (context) => {\n    context.fillStyle = 'white';\n    context.font = '12px Courier';\n    context.fillText('Score: ' + game.playerScore.get(), 0, 10);\n  };\n\n  this.isFull = () => this.staticBricks.some((brick) => brick.y < brickSize * 2);\n\n  this.checkFilledRegions = () => {\n    let rows = [], bricks, bricksChecked = 0;\n\n    for (\n      let i = boardHeight - brickSize;\n      bricksChecked !== this.staticBricks.length;\n      i -= brickSize\n    ) {\n      bricks = this.staticBricks.filter((brick) => brick.y === i);\n\n      rows.push({\n        bricks: bricks,\n        isFull: bricks.length === boardWidth / brickSize\n      });\n\n      bricksChecked += bricks.length;\n    }\n\n    let newBricks = [], rowsCleared = 0;\n\n    for (let i = 0; i < rows.length; ++i) {\n      if (rows[i].isFull) {\n        rows[i].bricks = [];\n        ++rowsCleared;\n        game.playerScore.add(rowsCleared);\n      } else {\n        rows[i].bricks.forEach((brick) => {\n          // todo: investigate brick.y\n          // noinspection JSUndefinedPropertyAssignment\n          brick.y += rowsCleared * brickSize;\n        });\n      }\n\n      newBricks = newBricks.concat(rows[i].bricks);\n    }\n\n    this.staticBricks = newBricks;\n  };\n\n  this.checkCollisions = (callback) => {\n    const collisions = Object.seal({\n      left: false,\n      right: false,\n      bottom: false\n    });\n\n    const checkAgainst = (obstacle, side) => {\n      return (brick) => {\n        if (obstacle === 'board') {\n          switch (side) {\n            case 'bottom':\n              return brick.y === boardHeight - brickSize;\n            case 'left':\n              return brick.x === 0;\n            case 'right':\n              return brick.x === boardWidth - brickSize;\n          }\n        } else {\n          let collision = false;\n\n          this.staticBricks.forEach((staticBrick) => {\n            switch (side) {\n              case 'bottom': {\n                collision = collision ||\n                  brick.y === staticBrick.y - brickSize &&\n                  brick.x === staticBrick.x;\n                break;\n              }\n\n              case 'left': {\n                collision = collision ||\n                  brick.y === staticBrick.y &&\n                  brick.x - brickSize === staticBrick.x;\n                break;\n              }\n\n              case 'right': {\n                collision = collision ||\n                  brick.y === staticBrick.y &&\n                  brick.x + brickSize === staticBrick.x;\n                break;\n              }\n            }\n          });\n\n          return collision;\n        }\n      };\n    };\n\n    this.activeShape.bricks.forEach((brick) => {\n      ['bottom', 'left', 'right'].forEach((side) => {\n        if (\n          checkAgainst('board', side)(brick) ||\n          checkAgainst('static', side)(brick)\n        ) {\n          collisions[side] = true;\n        }\n      });\n    });\n\n    callback(collisions);\n  };\n}\n","import Shape from \"./Shape\";\n\nexport default function Controls(leftKey, rightKey, rotateKey, dropKey) {\n  return {\n    [leftKey]: Shape.prototype.actions.MOVE_LEFT,\n    [rightKey]: Shape.prototype.actions.MOVE_RIGHT,\n    [rotateKey]: Shape.prototype.actions.ROTATE,\n    [dropKey]: Shape.prototype.actions.DROP\n  }\n}\n","export default function Joystick(keyMap) {\n  const keyStates = Object.seal(\n    Object.assign({\n      Escape: false,\n      Enter: false,\n      anyKey: false\n    }, keyMap)\n  );\n\n  // todo: investigate linter warning\n  Object.keys(keyStates).forEach(keyState => keyState = false);\n\n  const callbacks = {}, keyQueue = [];\n\n  function keyEvents(e) {\n    const isDown = (e.type === 'keydown'), keyCode = e.code;\n    keyStates.anyKey = isDown;\n\n    if (isDown && callbacks.anyKey !== undefined) {\n      callbacks.anyKey(keyCode);\n    }\n\n    if (keyStates[keyCode] !== undefined) {\n      e.preventDefault();\n      keyStates[keyCode] = isDown;\n\n      if (isDown) {\n        if (keyCode in keyMap) {\n          keyQueue.push(keyCode);\n        }\n\n        if (callbacks[keyCode] !== undefined) {\n          callbacks[keyCode]();\n        }\n      }\n    }\n  }\n\n  /**\n   * Public\n   */\n  return {\n    keys: keyStates,\n    keyMap,\n    keyQueue,\n    start() {\n      addEventListener('keyup', keyEvents);\n      addEventListener('keydown', keyEvents);\n    },\n    stop() {\n      removeEventListener('keyup', keyEvents);\n      removeEventListener('keydown', keyEvents);\n    },\n    setCallback(key, callback) {\n      callbacks[key] = callback;\n    }\n  };\n}\n","export default function Recorder(joystick, game) {\n  const tape = [];\n  let lastFrame = Infinity;\n\n  const start = () => {\n    joystick.setCallback('anyKey', (key) => {\n      tape.push({ key, frame: game.getFrameCount() });\n    });\n\n    joystick.setCallback('Escape', () => {\n      joystick.stop();\n      lastFrame = game.getFrameCount();\n      stop();\n      tape.pop();\n      play();\n      game.restart();\n      game.setRandomSeed(+(new Date()));\n    });\n  };\n\n  const stop = () => {\n    joystick.setCallback('anyKey', undefined);\n    joystick.setCallback('Escape', undefined);\n  };\n\n  const play = () => {\n    game.onProceed = () => {\n      if (game.getFrameCount() !== lastFrame) {\n        game.drawReplay();\n\n        if (tape.length && game.getFrameCount() === tape[0].frame) {\n          joystick.keyQueue.push(tape.shift().key);\n        }\n      } else {\n        game.onProceed = undefined;\n        joystick.start();\n        start();\n        game.restart();\n      }\n    };\n  };\n\n  /**\n   * Public\n   */\n  return {\n    tape,\n    lastFrame,\n    start,\n    stop,\n    play\n  };\n}\n","import SeededRandom from \"./SeededRandom\";\nimport Shape from \"./Shape\";\nimport Board from \"./Board\";\nimport KeyMap from \"./KeyMap\";\nimport Joystick from \"./Joystick\";\nimport Recorder from \"./Recorder\";\n\n// noinspection JSUnusedGlobalSymbols\nexport default function Game(config) {\n  const context = config.context;\n\n  const keyMaps = [\n      new KeyMap('ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown'),\n      new KeyMap('KeyA', 'KeyD', 'KeyW', 'KeyS'), // W-A-S-D\n      new KeyMap('KeyH', 'KeyL', 'KeyK', 'KeyJ')  // VIM\n    ],\n    keyMap = Object.assign(...keyMaps);\n\n  // todo: custom controls would go somewhere here...\n\n  const joystick = new Joystick(keyMap);\n  const recorder = new Recorder(joystick, this);\n\n  joystick.start();\n  recorder.start();\n\n  this.randomSeed = +(new Date());\n  this.random = new SeededRandom(this.randomSeed);\n\n  this.playerScore = (() => {\n    let _playerScore = 0;\n    const scoreThresholds = [149, 49, 39, 9, 0];\n\n    return {\n      get() {\n        return _playerScore;\n      },\n      set(newScore) {\n        _playerScore = newScore;\n\n        scoreThresholds.some((threshold, index) => {\n          if (newScore >= threshold) {\n            difficulty = 5 - index;\n\n            return true;\n          }\n        });\n      },\n      add(extraScore) {\n        this.set(_playerScore + extraScore);\n      }\n    };\n  })();\n\n  let board = new Board(this, config.board.boardWidth, config.board.boardHeight, config.board.brickSize, this.random);\n  let frameCount = 0;\n  // noinspection JSUnusedLocalSymbols\n  this.onProceed = undefined;\n  let difficulty = 1;\n  this.turboMode = false;\n\n  const gravityIsActive = () => {\n    const gameSpeeds = [null, 27, 24, 16, 12, 8];\n\n    return this.turboMode || frameCount % gameSpeeds[difficulty] === 0;\n  };\n\n  this.drawReplay = () => {\n    board.drawReplay(context);\n  };\n\n  this.getFrameCount = () => frameCount;\n\n  this.restart = () => {\n    this.random = new SeededRandom(this.randomSeed);\n    this.playerScore.set(0);\n    frameCount = 0;\n    difficulty = 1;\n    this.turboMode = false;\n    board = new Board(this, config.board.boardWidth, config.board.boardHeight, config.board.brickSize, this.random);\n  };\n\n  this.setRandomSeed = (newSeed) => {\n    this.randomSeed = newSeed;\n  };\n\n  const processAction = (action) => {\n    board.checkCollisions((collisions) => {\n      board.activeShape.isFrozen = collisions.bottom;\n\n      switch (true) {\n        case action === Shape.prototype.actions.ROTATE && cantBeRotated():\n        case action === Shape.prototype.actions.MOVE_RIGHT && collisions.right:\n        case action === Shape.prototype.actions.MOVE_LEFT && collisions.left:\n        case action === Shape.prototype.actions.FALL && collisions.bottom:\n        case action === Shape.prototype.actions.DROP && collisions.bottom:\n          break;\n\n        default:\n          if (action === Shape.prototype.actions.DROP) {\n            this.turboMode = true;\n          }\n\n          board.activeShape.performAction(action);\n          break;\n      }\n\n      function cantBeRotated() {\n        const temp = board.spawnShape();\n\n        temp.orientaion = board.activeShape.orientaion;\n        temp.type = board.activeShape.type;\n\n        for (let i = 0; i < 4; ++i) {\n          Object.assign(\n            temp.bricks[i],\n            board.activeShape.bricks[i]\n          );\n        }\n\n        temp.performAction(Shape.prototype.actions.ROTATE);\n\n        for (let i = 0; i < 4; ++i) {\n          for (let j = 0; j < board.staticBricks.length; ++j) {\n            if (\n              temp.bricks[i].x === board.staticBricks[j].x &&\n              temp.bricks[i].y === board.staticBricks[j].y\n            ) {\n              return true;\n            }\n          }\n\n          if (\n            temp.bricks[i].x >= config.board.boardWidth ||\n            temp.bricks[i].x <= 0 ||\n            temp.bricks[i].y >= config.board.boardHeight\n          ) {\n            return true;\n          }\n        }\n\n        return false;\n      }\n    });\n  };\n\n  const readAction = () => {\n    const nextKey = joystick.keyQueue.shift();\n    processAction(joystick.keyMap[nextKey]);\n\n    board.checkCollisions((collisions) => {\n      board.activeShape.isFrozen = collisions.bottom;\n    });\n  };\n\n  this.proceed = () => {\n    ++frameCount;\n    board.drawBackground(context);\n\n    if (this.onProceed !== undefined) {\n      this.onProceed();\n    }\n\n    readAction();\n\n    if (board.activeShape.isFrozen) {\n      for (let i = 0; i < 4; ++i) {\n        board.staticBricks.push(board.activeShape.bricks.pop());\n      }\n\n      board.checkFilledRegions();\n      this.turboMode = false;\n      board.activeShape = board.spawnShape();\n\n      if (board.isFull()) {\n        this.restart();\n      }\n    } else {\n      if (gravityIsActive()) {\n        processAction(Shape.prototype.actions.FALL);\n      }\n\n      board.activeShape.draw(context);\n    }\n\n    board.drawStaticBricks(context);\n    board.drawScore(context);\n  };\n\n  const mainLoop = () => {\n    this.proceed();\n    requestAnimationFrame(mainLoop);\n  };\n\n  requestAnimationFrame(mainLoop);\n}"],"names":["KeyMap"],"mappings":"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"}